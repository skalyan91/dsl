//,,live updates,TRUE,,devMode port,8081,,,FALSE
//,"CASE STUDY THREE:   CONTRACT  —  US Treasury, Office of Financial Research & Vermont Law School  ·  Loan Agreement",,,,,,,,
//,https://law.stanford.edu/publications/contract-as-automaton-the-computational-representation-of-financial-agreements/,,,,,,,,
,,,,,,,,,
§,Our Standard Library Contains Generally Accepted Notions of Law,,,,,,,,
//,"In practice, standard elements like this would be incorporated by reference to some library of model terms.",,,,,,,,
//,"A programmer would recognize this as a set of importable class and type definitions – a ""background ontology"" or ""schema"".",,,,,,,,
,DECLARE,Loan,,IS,AN,Agreement,,,
,HAS,Lender,,IS,A,Person,,,
,HAS,Borrower,,IS,A,Person,,,
,HAS,Closing,,IS,A,Date,,,
,HAS,Principal,,IS,A,Money,,,
;;,,,,,,,,,
§,The Particulars of a Deal appear in the Preamble and Definitions,,,,,,,,
//,"In software-speak, we configure our program by defining variables and instantiating classes.",,,,,,,,
,DEFINE,F&G,,IS,A,Loan,,,
,HAS,Mark,,IS,THE,Lender,,,
,HAS,Oliver,,IS,THE,Borrower,,,
,HAS,1 Jun 2014,,IS,THE,Closing,,,
,HAS,"$1,000",,IS,THE,Principal,,,
;;,,,,,,,,,
§,Commencement,,,,,,,,
//,"The game begins when one party asks for money, and the other party sends it.",,,,,,,,
//,Here we see two regulative rules connected by the HENCE keyword.,,,,,,,,
//,"This is called ""nesting"". One rule fits inside another.",,,,,,,,
,PARTY,Borrower,,,,,,,
,MAY,request funds,,,,,,,
,,from,Lender,,,,,,
,BY,1 June 2014,,,,,,,
,,,,,,,,,
,HENCE,,PARTY,Lender,,,,,
,,,MUST,remit principal,,,,,
,,,,,in the amount of,"$1,000",,,
,,,,,to,Borrower,,,
,,,WITHIN,1,day,,,,
,,,HENCE,Repayment,,,,,
;;,,,,,,,,,
,,,§§,Repayment,,,,,
,,,,Repayment,,,,,
,,,MEANS,Repay in two halves,,,,,
,,,AND,Keep taxes paid 1,,,,,
//,,,EARLYRETURN,//,means if one track terminates then the other track also terminates,,,,
,,,,,,,,,
§,Repay in two halves,,,,,,,,
,PARTY,Borrower,,,,,,,
,MUST,ON,1 June 2015,,,,,,
,DO,,repay,first half,,,,,
,,,in the amount of,$550,,,,,
,,,to,Lender,,,,,
,HENCE,second half,,,,,,,
,LEST,Payment default 1,,,,,,,
;;,,,,,,,,,
//,,"In software, ""if-statements"" have two limbs: ""then"" and ""else"".",,,,,,,
//,,L4 uses HENCE and LEST to mean roughly the same thing.,,,,,,,
//,,"If a rule was satisfied, proceed to HENCE. Otherwise, do not pass go, do not collect $200; proceed instead to LEST.",,,,,,,
,,,,,,,,,
,§§,second half,,,,,,,
,,second half,,,,,,,
,MEANS,Repay second half,,,,,,,
,AND,Keep taxes paid 2,,,,,,,
;;,,,,,,,,,
§,Repay second half,,,,,,,,
,PARTY,Borrower,,,,,,,
,MUST,ON,1 June 2016,,,,,,
,DO,,repay,second half,,,,,
,,,in the amount of,$525,,,,,
,,,to,Lender,,,,,
,LEST,Payment default 2,,,,,,,
;;,,,,,,,,,
§,Keep taxes paid 1,,,,,,,,
,PARTY,Borrower,,,,,,,
,MUST,,,,,,,,
,DO,pay taxes and avoid general default,,,,,,,
,LEST,Accelerate outstanding payments 1,,,,,,,
;;,,,,,,,,,
§,Keep taxes paid 2,,,,,,,,
,PARTY,Borrower,,,,,,,
,MUST,,,,,,,,
,DO,pay taxes and avoid general default,,,,,,,
,LEST,Accelerate outstanding payments 2,,,,,,,
;;,,,,,,,,,
§,Payment default 1,,,,,,,,
,PARTY,Lender,,,,,,,
,MAY,,,,,,,,
,DO,notify,Borrower,of default,,,,,
,,,,,,,,,
,HENCE,PARTY,Borrower,,,,,,
,,MUST,WITHIN,2,days,,,,
,,DO,,repay,first half,,,,
,,,,in the amount of,$550,,,,
,,,,to,Lender,,,,
,,HENCE,second half,,,,,,
,,LEST,Accelerate outstanding payments 1,,,,,,
;;,,,,,,,,,
§,Payment default 2,,,,,,,,
,PARTY,Lender,,,,,,,
,MAY,,,,,,,,
,DO,notify,Borrower,of default,,,,,
,,,,,,,,,
,HENCE,PARTY,Borrower,,,,,,
,,MUST,WITHIN,2,days,,,,
,,DO,resolve,default condition,,,,,
,,,,,,,,,
,,LEST,PARTY,Borrower,,,,,
,,,MUST,WITHIN,2,days,,,
,,,DO,,repay,second half,,,
,,,,,in the amount of,$525,,,
,,,,,to,Lender,,,
,,,LEST,Accelerate outstanding payments 2,,,,,
;;,,,,,,,,,
§,Accelerate outstanding payments 1,,,,,,,,
,PARTY,Borrower,,,,,,,
,MUST,WITHIN,1 day,,,,,,
,DO,,repay full amount,,,,,,
,,,to the sum of,"$1,025",,,,,
,,,to,Lender,,,,,
;;,,,,,,,,,
§,Accelerate outstanding payments 2,,,,,,,,
,PARTY,Borrower,,,,,,,
,MUST,WITHIN,1 day,,,,,,
,DO,,repay,second half,,,,,
,,,in the amount of,$525,,,,,
,,,to,Lender,,,,,